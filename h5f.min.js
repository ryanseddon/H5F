/*! H5F
* https://github.com/ryanseddon/H5F/
* Copyright (c) Ryan Seddon | Licensed MIT */
var H5F=H5F||{};(function(e){var t,a,i,n,r,s,l,u,o,c,d,v,p,f,m,g,h,b,y,w,C,N,A,E,$,k,x=e.createElement("input"),q=/^[a-zA-Z0-9.!#$%&'*+-\/=?\^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,M=/[a-z][\-\.+a-z]*:\/\//i,L=/^(input|select|textarea)$/i;s=function(e,t){var a=!e.nodeType||!1,i={validClass:"valid",invalidClass:"error",requiredClass:"required",placeholderClass:"placeholder"};if("object"==typeof t)for(var n in i)t[n]===void 0&&(t[n]=i[n]);if(r=t||i,a)for(var s=0,u=e.length;u>s;s++)l(e[s]);else l(e)},l=function(e){var i,n=e.elements,r=n.length,s=!!e.attributes.novalidate;if(y(e,"invalid",o,!0),y(e,"blur",o,!0),y(e,"input",o,!0),y(e,"keyup",o,!0),y(e,"focus",o,!0),y(e,"change",o,!0),y(e,"click",c,!0),y(e,"submit",function(i){t=!0,a||s||e.checkValidity()||C(i)},!1),!p())for(e.checkValidity=function(){return d(e)};r--;)i=!!n[r].attributes.required,"fieldset"!==n[r].nodeName.toLowerCase()&&u(n[r])},u=function(e){var t=e,a=b(t),i={type:t.getAttribute("type"),pattern:t.getAttribute("pattern"),placeholder:t.getAttribute("placeholder")},r=/^(email|url)$/i,s=/^(input|keyup)$/i,l=r.test(i.type)?i.type:i.pattern?i.pattern:!1,u=f(t,l),o=g(t,"step"),c=g(t,"min"),p=g(t,"max"),h=!(""===t.validationMessage||void 0===t.validationMessage);t.checkValidity=function(){return d.call(this,t)},t.setCustomValidity=function(e){v.call(t,e)},t.validity={valueMissing:a,patternMismatch:u,rangeUnderflow:c,rangeOverflow:p,stepMismatch:o,customError:h,valid:!(a||u||o||c||p||h)},i.placeholder&&!s.test(n)&&m(t)},o=function(e){var t=N(e)||e,a=/^(input|keyup|focusin|focus|change)$/i,i=/^(submit|image|button|reset)$/i,s=/^(checkbox|radio)$/i,l=!0;!L.test(t.nodeName)||i.test(t.type)||i.test(t.nodeName)||(n=e.type,p()||u(t),t.validity.valid&&(""!==t.value||s.test(t.type))||t.value!==t.getAttribute("placeholder")&&t.validity.valid?(E(t,[r.invalidClass,r.requiredClass]),A(t,r.validClass)):a.test(n)?t.validity.valueMissing&&E(t,[r.requiredClass,r.invalidClass,r.validClass]):t.validity.valueMissing?(E(t,[r.invalidClass,r.validClass]),A(t,r.requiredClass)):t.validity.valid||(E(t,[r.validClass,r.requiredClass]),A(t,r.invalidClass)),"input"===n&&l&&(w(t.form,"keyup",o,!0),l=!1))},d=function(e){var a,i,n,r,s=!1;if("form"===e.nodeName.toLowerCase()){a=e.elements;for(var l=0,u=a.length;u>l;l++)i=a[l],n=!!i.attributes.required,r=!!i.attributes.pattern,"fieldset"!==i.nodeName.toLowerCase()&&(n||r&&n)&&(o(i),i.validity.valid||s||(t&&i.focus(),s=!0));return!s}return o(e),e.validity.valid},v=function(e){var t=this;t.validationMessage=e},c=function(e){var t=N(e);t.attributes.formnovalidate&&"submit"===t.type&&(a=!0)},p=function(){return $(x,"validity")&&$(x,"checkValidity")},f=function(e,t){if("email"===t)return!q.test(e.value);if("url"===t)return!M.test(e.value);if(t){var a=e.getAttribute("placeholder"),n=e.value;return i=RegExp("^(?:"+t+")$"),n===a?!1:""===n?!1:!i.test(e.value)}return!1},m=function(e){var t={placeholder:e.getAttribute("placeholder")},a=/^(focus|focusin|submit)$/i,i=/^(input|textarea)$/i,s=/^password$/i,l=!!("placeholder"in x);l||!i.test(e.nodeName)||s.test(e.type)||(""!==e.value||a.test(n)?e.value===t.placeholder&&a.test(n)&&(e.value="",E(e,r.placeholderClass)):(e.value=t.placeholder,y(e.form,"submit",function(){n="submit",m(e)},!0),A(e,r.placeholderClass)))},g=function(e,t){var a=parseInt(e.getAttribute("min"),10)||0,i=parseInt(e.getAttribute("max"),10)||!1,n=parseInt(e.getAttribute("step"),10)||1,r=parseInt(e.value,10),s=(r-a)%n;return b(e)||isNaN(r)?"number"===e.getAttribute("type")?!0:!1:"step"===t?e.getAttribute("step")?0!==s:!1:"min"===t?e.getAttribute("min")?a>r:!1:"max"===t?e.getAttribute("max")?r>i:!1:void 0},h=function(e){var t=!!e.attributes.required;return t?b(e):!1},b=function(e){var t=e.getAttribute("placeholder"),a=/^(checkbox|radio)$/i,i=!!e.attributes.required;return!(!i||""!==e.value&&e.value!==t&&(!a.test(e.type)||k(e)))},y=function(e,t,a,i){$(window,"addEventListener")?e.addEventListener(t,a,i):$(window,"attachEvent")&&window.event!==void 0&&("blur"===t?t="focusout":"focus"===t&&(t="focusin"),e.attachEvent("on"+t,a))},w=function(e,t,a,i){$(window,"removeEventListener")?e.removeEventListener(t,a,i):$(window,"detachEvent")&&window.event!==void 0&&e.detachEvent("on"+t,a)},C=function(e){e=e||window.event,e.stopPropagation&&e.preventDefault?(e.stopPropagation(),e.preventDefault()):(e.cancelBubble=!0,e.returnValue=!1)},N=function(e){return e=e||window.event,e.target||e.srcElement},A=function(e,t){var a;e.className?(a=RegExp("(^|\\s)"+t+"(\\s|$)"),a.test(e.className)||(e.className+=" "+t)):e.className=t},E=function(e,t){var a,i,n="object"==typeof t?t.length:1,r=n;if(e.className)if(e.className===t)e.className="";else for(;n--;)a=RegExp("(^|\\s)"+(r>1?t[n]:t)+"(\\s|$)"),i=e.className.match(a),i&&3===i.length&&(e.className=e.className.replace(a,i[1]&&i[2]?" ":""))},$=function(e,t){var a=typeof e[t],i=RegExp("^function|object$","i");return!!(i.test(a)&&e[t]||"unknown"===a)},k=function(e){for(var t=document.getElementsByName(e.name),a=0;t.length>a;a++)if(t[a].checked)return!0;return!1},window.H5F={setup:s}})(document);